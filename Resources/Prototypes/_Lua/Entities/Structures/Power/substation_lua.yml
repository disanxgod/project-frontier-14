- type: entity
  abstract: true
  parent: CoreSubstation
  id: CoreSubstationLua

- type: entity
  abstract: true
  id: BaseSubstationLua
  parent: [ BaseSubstation, CoreSubstationLua ]
  name: substation lt
  description: Reduces the voltage of electricity put into in.
  suffix: Lua
  placement:
    mode: SnapgridCenter
  components:
  - type: Sprite
    sprite: _Lua/Structures/Power/substation_lua.rsi
    snapCardinals: true
    layers:
    - state: substation
    - state: screen
      shader: unshaded
    - state: full
      shader: unshaded
  - type: PowerMonitoringDevice
    sprite: _Lua/Structures/Power/substation_lua.rsi
    state: substation_static
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 200
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          collection: MetalGlassBreak
      - !type:ExplodeBehavior
      - !type:SpawnEntitiesBehavior
        spawn:
          TeslaMiniEnergyBall:
            min: 1
            max: 1
      - !type:SpawnGasBehavior
        gasMixture:
          volume: 1000
          moles:
          - 0 # oxygen
          - 0 # nitrogen
          - 340.5701689 # carbon dioxide
          temperature: 373.15

- type: entity
  id: BaseSubstationWallLua
  parent: [BaseSubstationWall, CoreSubstationLua]
  categories: [ HideSpawnMenu ]
  name: wallmount substation lt
  description: A substation designed for compact shuttles and spaces.
  suffix: Lua
  placement:
    mode: SnapgridCenter
  components:
  - type: LuaTech
  - type: Sprite
    drawdepth: WallMountedItems
    sprite: _Lua/Structures/Power/substation_lua.rsi
    layers:
    - state: substation_wall
    - state: screen_wall
      shader: unshaded
  - type: PowerMonitoringDevice
    sprite: _Lua/Structures/Power/substation_lua.rsi
    state: substation_wall_static

- type: entity
  parent: SubstationBasic
  id: SubstationBasicLua
  suffix: Lua, Basic, 2.5MJ
  components:
  - type: LuaTech
  - type: Sprite
    sprite: _Lua/Structures/Power/substation_lua.rsi
    snapCardinals: true
    layers:
    - state: substation
    - state: screen
      shader: unshaded
    - state: full
      shader: unshaded
  - type: PowerMonitoringDevice
    sprite: _Lua/Structures/Power/substation_lua.rsi
    state: substation_static

- type: entity
  parent: SubstationBasicEmpty
  id: SubstationBasicEmptyLua
  suffix: Lua, Empty
  components:
  - type: LuaTech
  - type: Sprite
    sprite: _Lua/Structures/Power/substation_lua.rsi
    snapCardinals: true
    layers:
    - state: substation
    - state: screen
      shader: unshaded
    - state: full
      shader: unshaded
  - type: PowerMonitoringDevice
    sprite: _Lua/Structures/Power/substation_lua.rsi
    state: substation_static

- type: entity
  parent: SubstationWallBasic
  id: SubstationWallBasicLua
  suffix: Lua, Basic, 2MJ
  components:
  - type: LuaTech
  - type: Sprite
    drawdepth: WallMountedItems
    sprite: _Lua/Structures/Power/substation_lua.rsi
    layers:
    - state: substation_wall
    - state: screen_wall
      shader: unshaded
  - type: PowerMonitoringDevice
    sprite: _Lua/Structures/Power/substation_lua.rsi
    state: substation_wall_static

- type: entity
  parent: BaseSubstationWallFrame
  id: BaseSubstationWallFrameLua
  categories: [ HideSpawnMenu ]
  name: wallmount substation frame lt
  description: A substation frame for construction.
  suffix: Lua
  placement:
    mode: SnapgridCenter
  components:
  - type: LuaTech
  - type: Sprite
    drawdepth: WallMountedItems
    sprite: _Lua/Structures/Power/substation_lua.rsi
    layers:
    - state: substation_wall
